# Zapret GUI

Современный графический интерфейс на WPF для zapret-discord-youtube.

## Скриншот

<p align="center">
  <img src="docs/screenshots/gui-main.png" alt="Zapret GUI" width="440">
</p>

## Запуск

Дважды кликните на `gui.vbs` в корневой папке.

Альтернативный способ:
```
cscript //nologo gui\launch.vbs
```

## Возможности

### Управление службой
- **INSTALL** - установка службы zapret с выбранной стратегией
- **REMOVE** - удаление службы и остановка процессов

### Диагностика и тесты
- **DIAGNOSTICS** - проверка системы на конфликты (VPN, антивирусы, другие bypass)
- **RUN TESTS** - запуск тестов конфигураций для поиска рабочей стратегии

### Обновления
- **UPDATES** - проверка новых версий zapret
- **UPDATE HOSTS** - обновление hosts файла для голосовых каналов Discord

### Настройки
- **Game Filter** - фильтр игровых портов (ON/OFF)
- **Auto Updates** - автоматическая проверка обновлений (ON/OFF)
- **IPset Mode** - режим работы ipset (none/any/loaded)

### Мониторинг
- Статус службы Zapret
- Статус драйвера WinDivert
- Статус процесса обхода (winws.exe)
- Текущая установленная стратегия

## Структура проекта

```
gui/
├── launch.vbs          # VBS лаунчер (скрывает консоль PowerShell)
├── README.md           # Документация
└── src/
    ├── main.ps1        # Точка входа
    ├── config.ps1      # Конфигурация и пути
    ├── services.ps1    # Управление службами
    ├── settings.ps1    # Переключатели настроек
    ├── diagnostics.ps1 # Диагностика системы
    ├── updates.ps1     # Проверка обновлений
    ├── icon.ps1        # Генерация иконки
    └── ui/
        ├── theme.ps1   # Цветовая тема
        ├── xaml.ps1    # XAML разметка окна
        └── dialogs.ps1 # Диалоговые окна
```

## Требования

- Windows 10/11
- PowerShell 5.1+
- Права администратора (запрашиваются автоматически)

## Решение проблем

### GUI не запускается
1. Убедитесь что архив полностью распакован
2. Проверьте наличие папки `bin` с файлами
3. Попробуйте запустить от имени администратора

### Служба не устанавливается
1. Запустите DIAGNOSTICS для проверки конфликтов
2. Удалите конфликтующие bypass (GoodbyeDPI и др.)
3. Перезагрузите компьютер

### Discord не работает после установки
1. Нажмите UPDATE HOSTS для обновления hosts файла
2. Очистите кэш Discord через DIAGNOSTICS
3. Попробуйте другую стратегию

## Авторы

Дизайн и разработка: [ibuildrun](https://github.com/ibuildrun)
